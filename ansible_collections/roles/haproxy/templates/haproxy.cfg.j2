global
        log /dev/log        local0
        log /dev/log        local1 notice
        chroot /var/lib/haproxy
        stats socket /run/haproxy/admin.sock mode 660 level admin expose-fd listeners
        stats timeout 30s
        user haproxy
        group haproxy
        daemon

        # Default SSL material locations
        ca-base /etc/ssl/certs
        crt-base /etc/ssl/private

        # See: https://ssl-config.mozilla.org/#server=haproxy&server-version=2.0.3&config=intermediate
{% if haproxy.ssl_default_bind_ciphers is defined %}
        ssl-default-bind-ciphers {{ haproxy.ssl_default_bind_ciphers }}
{% endif %}
{% if haproxy.ssl_default_bind_options is defined %}
        ssl-default-bind-options {{ haproxy.ssl_default_bind_options }}
{% endif %}

defaults
        log         {{ haproxy.default_mode }}
        mode        {{ haproxy.default_log}}
{% for option in haproxy.options %}
        option      {{ option }}
{% endfor %}
        timeout connect {{ haproxy.timeouts.connect }}
        timeout client  {{ haproxy.timeouts.client }}
        timeout server  {{ haproxy.timeouts.server }}
